# 雨

> qiqi 一周年
>
> 早上因为不思上班, 请假一天, 但是该你做的还是该你做, 活是一点没减少, 这个请假除了能多看点书, 其他意义不大

# 学习了

## 反向引用 - backreference

> 就是允许引用之前捕获的内容(先前的子表达式)

```js
// \1 是对前面第一个子表达式的引用 \2是匹配第二个子表达式
// js中 \ 来标识反向引用, 在使用 replace 替换的时候可以使用 $1 来引用捕获 进行替换操作
// \0 在很多表达式里面代表了整个正则表达式


除了 $1 之外还有
$` 表示: 匹配字符串之前的所有内容
$' 表示: 匹配字符串之后的所有内容
$+ 表示: 匹配最后一个匹配的子表达式(捕获)
$& 表示: 返回所有匹配到的所有内容
```



## 大小写转换

> 可以配合 捕获 引用 格式化文本的大小写 

如:

```js
str.replace(正则, '\U$1\E')
\U$1\E 把 $1 全部转换成大写
\L$1\E 把 $1 全部转换成小写
\l 把下一个字符转成小写
\u 把下一个字符转成大写
```



## 环视

**js 只支持向前查看 写法: `(?=)`**

1. 环视其实就是一个子表达式, 只是括号里面有 `?=`
2. 环视不会匹配具体的字符, 但是可以确定其他正则的位置

```js
/https?(?=:)/
上面这个正则会匹配到 https 或 http, 但是不会匹配到后面的冒号, 只会说明, 在 冒号: 前面有这些内容帮助定位
如果向前查看后面写了内容, 那么匹配的后面内容必须写上环视的内容, 否则无法匹配
/(?=:):\/\//
要这么写, 否则匹配不上
```



环视-向前查看也可以用排除法 写法: `(?!)`, 具体使用同上, 排除某个符号





## 嵌入条件

> 嵌入条件的两种可能:

1. 根据反向引用来进行条件处理
2. 根据环视来进行条件处理

```js
1. 根据是否匹配到第一个捕获, 来判断 p92
(successOrFalse)?(?(1)true|false)
成功就匹配true, 否则false

2. 根据环视-向前匹配来判断 
(?(?=:)true|false)
只是判断括号里面的内容由数字 1 变成环视-向前查找

```



## 实战练习

1. 匹配国内电话
2. 匹配网站链接
3. 匹配邮编
4. 匹配邮箱



## 附: 正则查询表

![image-20210816221819838](https://raw.githubusercontent.com/mannixchan/Pics/master/img/image-20210816221819838.png)