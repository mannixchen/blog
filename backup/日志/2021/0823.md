# 阴

> 今天回来看了两三集 硅谷 , 好看, 但也容易沉迷, 羡慕他们优秀并神奇的本领, 让我不禁也想成为一个领域的专家, 把一个领域的东西做的很好, 那种感觉一定很棒把
>
> 但是美好的憧憬也容易让人疏忽了当下, 当下是需要长期积累的, 是需要沉淀的
>
> 想实现指数级提升, 需要很长的周期, 尊重过程 耐住性子

# 学习了

> 学习到了 Symbol , 一个我完全不熟悉的知识点, 或许这就是以后学新知识的状态吧, 看的蒙了, 里面有各种复杂的知识点的集合, 虽然现在没能好好接受, 但是, 多花时间多学习肯定是可以掌握的.. 珍惜攀登的过程把

## Symbol

> **原始值, 并且唯一的, 不可变的** 用途是**确保对象使用唯一标识符, 不会发生属性冲突的危险**

:speech_balloon: **创建唯一标记, 进而用作非字符串形式的对象属性**

### 1 基本用法

需要使用 `Symbol()` 函数初始化, 前面不可加 `new` , 使用 `typeof` 返回`symbol`

调用 `Symbol() 函数` 可以传入字符串 (非字符串会先转换成字符串) 作为对符号的描述, **但是 这个字符串参数与符号定义或标识完全无关**

1. **符号** 没有字面量语法, 只要创建 Symbol 实例就可以将其作为对象属性, 并且保证不会覆盖已有的对象属性
2. 不可和 new 关键字一起作为构造函数, 这样做 **是为了避免创建符号包装对象** , 如果想要使用符号包装对象, 可以借用 Object()函数 Object(mySymbol)

### 2 全局符号注册表

> 如果不同部分需要共享和重用符号实例, 可以用一个字符串作为 键, 在全局符号注册表中创建并重用符号

1. `Symbol.for('good')`

2. 第一次使用某个字符串调用时，它会**检查全局运行时注册表，发现不存在对应的符号，于是就会生成一个新符号实例并添加到注册表中。**

3. 后续使用相同 字符串的调用同样会检查注册表，**发现存在与该字符串对应的符号，然后就会返回该符号实例。**

   ```js
   let fooGlobalSymbol = Symbol.for('foo');
   
   let otherFooGlobalSymbol = Symbol.for('foo');
   
   console.log(fooGlobalSymbol === otherFooGlobalSymbol);  // true
   ```

4. 全局注册表中的符号必须使用字符串键来创建

5. 使用 `Symbol.keyFor()` 来查询全局注册表

   ```js
   // 参数是一个 Symbol
   let s = Symbol.for('good')
   Symbol.keyFor(s)   // good, 查出自付标书
   ```



### 3 字符作为属性

> 只要可以用字符串和数字作为属性的地方都可以使用 符号

1. 对象的字面量属性 使用中括号语法(中括号里面可以放变量)
2. Object.defineProperty() 也可以定义 Symbol 属性
3. Object.getOwnPropertyNames()返回对象实例的常规属性数组，Object.getOwnPropertySymbols()返回对象实例的符号属性数组。这两个方法的返回值彼此互斥
4. Object.getOwnPropertyDescriptors()会返回同时包含常规和符号属性描述符的对象。Reflect.ownKeys()会返回两种类型 的键

### 

### 4 内置符号 - 看着难, 学完 ES 基准再看

