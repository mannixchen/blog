# 阴

> 随心而学, 开心学, 不要求量, 求质, 求阅读的喜悦



# 学习了

## ECMAScript 符合性

> 要成为 ECMAScript 实现, 要满足以下条件

1. 支持 ECMA-262 标准中规定的 "类型, 值, 对象, 属性, 函数, 程序语法和语义"
2. 支持 Unicode 字符
3. 可以增加未定义的 额外的 类型, 值, 对象, 属性, 函数 -扩展性
4. 可以扩展, 修改内置的正则表达式特性

> 第一个与ecma -262完全兼容的浏览器是 Netscape Navigator 4.06

## DOM

> DOM 是浏览器提供的应用程序接口, 将整个页面抽象成一组分层节点, 通过 DOM api, 可以实现删除, 添加, 替换修改节点

> 由于担心 网景和微软各行其是, 万维网联盟 (W3C), 开始制定 DOM 标准

### DOM Level1

> 98年 10月, DOM Level 1 成为 W3C推荐标准

由两块组成:

1. DOM Core - 映射 XML, 以便访问操作文档人一部分
2. DOM HTML - 扩展前者, 增加了特定于 Html 的对象和方法

> DOM 是一种标准, 也被很多其他语言实现, 对于浏览器来说 DOM就是使用 ECMAScript 实现的,  DOM 本身也成为 JavaScript 的一大组成部分

### DOM Level 2

> 对最初的 DOM 扩展了对鼠标和用户界面事件, 范围, 遍历(迭代 dom 节点)的支持, 并且通过对象接口支持了 CSS

新增模块如下

1. DOM视图: 追踪文档不同视图的借口 (应用 CSS 样式前后的文档)
2. DOM 事件: 描述事件和事件处理
3. DOM 样式: 描述处理 CSS
4. DOM 便利和范围: 描述遍历和操作 DOM的接口

> 现在已经不按照 level 来维护 dom 了, 现在统一叫做 dom4



## BOM

> 在 html 5 出来之前 BOM是没有标准的, 这个版本的 HTML 规范了很多 BOM 特性
>
> 浏览器对象模型: 用来访问操作浏览器窗口, 一些特定于浏览器的扩展也叫 dom 包括

1. 弹出新窗口
2. 移动缩放关闭窗口的能力
3. navigator 对象, 提供浏览器信息
4. location 对象, 提供网页地址信息
5. screen 对象, 提供屏幕分辨率信息
6. performance 对象: 提供 内存,导航, 时间统计的详尽信息
7. 对 cookie 的支持
8. 一些其他 自定义 对象 如: XMLHttpRequest 和 IE 的ActiveXObject,  (原来 ajax 对象属于 BOM)



## 在 HTML 中使用 JavaScript

> <script> 元素 是网景创造的 最早在 Netscape Navigator 中实现, 后来被加入到 HTML 规范中

常用属性 

1. src: 引用外部代码文件
2. async: 立即下载js, 在下载完后执行, 不知道执行时间, 不是最佳实践
3. defer: 推迟执行脚本, 立即下载 js, 在 加载完 html 标签后执行, 但是浏览器并不能保证 defer js标签的执行顺序(虽然标准推荐按创建顺序), 所以推荐只写一个 defer 属性的标签
4. integrity: 可以确认资源签名是否和该属性指定的签名是否匹配, 可以防止 CDN 恶意内容
5. type: 默认 text/javascript, 若果写成 module, 可以支持 ES6 的模块语法

### 使用方式

> 在解释 JavaScript 代码的时候页面会阻塞, 其他内容不会被加载

1. 在标签中直接嵌入 js 代码
   1. 在标签里面写代码注意不要出现 '</script>' 字符串, 否则会.报错, 要对 `/` 转义 `\/`
2. 通过 src属性外链, 属性值是 URL, 指向包含 JavaScript 代码的文件

> .js 的扩展名不是必须的, 因为浏览器不会检查 包含 JavaScript 代码的文件的扩展名, 也是因为这样, 使用服务器端脚本语言生成JavaScript代码, 或者在浏览器中将JavaScript扩展语言 (TypeScript Jsx) 转义成 JavaScript 提供了可能, 不过服务器经常根绝文件扩展来确定响应正确的 MIME类型 (内容类型), 不用扩展名需要注意这点

> **在src属性的标签中, 不应该再在标签之间包含其他JavaScript代码, 浏览器会忽略行内的代码** p13

> src 属性的URL可以是一个不同域的链接,默认发一个get请求, 他不会收到浏览器同源策略的限制, 会受到 http 协议的限制
>
> 在引用他人的外部文件时候, 要注意防止文件被别人替换, 造成安全问题, 可以使用 integrity 属性防范(虽然不是所有浏览器适用)

### 标签位置 

> 一般写在 `</body> `之前
>
> 写在前面会阻塞 DOM 渲染, 造成卡顿感

